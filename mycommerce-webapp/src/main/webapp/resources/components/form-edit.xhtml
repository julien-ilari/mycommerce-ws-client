<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite">

<composite:interface>
<composite:attribute name="controller" default="false" required="true" />
</composite:interface>

<composite:implementation>
		<!-- Titre du formulaire d'édition -->
	<c:if test="#{empty titrePanelEdit}">
		<c:set var="titrePanelEdit" value="Formulaire d'édition" />
	</c:if>

	
	<!-- Panel du formulaire d'édition -->
	<p:panel id="panel-edit" toggleable="true"
		rendered="#{cc.attrs.controller.action eq 'CREATE' or cc.attrs.controller.action eq 'UPDATE'}"
		closable="true" toggleSpeed="500" closeSpeed="500"
		widgetVar="panel-edit" style="margin-bottom:20px;">
		<f:facet name="header">
			<header style="display: inline-block;">
				<h2>
					<i class="material-icons prefix">edit</i><span>#{titrePanelEdit}</span>
				</h2>
			</header>
		</f:facet>
		<h:form id="form-edit" enctype="multipart/form-data" prependId="false">
			<!-- Insertion des composants -->
			<ui:insert />
	
			

			<div style="margin-top: 1em">
				<p:commandLink update=":section-edit :section-list" immediate="true"
					styleClass="waves-effect waves-light btn red"
					actionListener="#{cc.attrs.controller.reset}"
					style="color:white; margin-right:0.5em">
					<span><i class="material-icons left">cancel</i>Quitter</span>
				</p:commandLink>
				<p:commandLink styleClass="waves-effect waves-light btn"
					update=":section-edit :section-list"
					actionListener="#{cc.attrs.controller.saveAction}"
					style="color:white; margin-left:0.5em">
					<span><i class="material-icons left">save</i>Enregistrer</span>
				</p:commandLink>
			</div>
		</h:form>
	</p:panel>
</composite:implementation>
</html>