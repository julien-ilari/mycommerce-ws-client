<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:w="http://web-maker.fr/html"
	template="/WEB-INF/templates/layout-crud.xhtml">

	
	<ui:param name="titlePage" value="#{msg['categories.title']}" />
	<ui:param name="descriptionPage" value="#{msg['categories.explanation']}" />
	<ui:param name="titrePanelList" value="#{msg.categories}" />
	<ui:param name="titrePanelEdit" value="#{msg.categorie}" />

	<ui:param name="controller" value="#{adminCategoryMB}" />
	<ui:param name="model" value="#{controller.model}" />
	<ui:param name="showTreeTable" value="true" />

	<!--  Formulaire d'Ã©dition  -->
	<ui:define name="form-edit">

		<div class="ui-g ui-fluid form-group">

			<div class="ui-g-12 ui-md-12">
				<div class="ui-inputgroup">
					<div class="md-inputfield">
						<p:inputText id="name" required="true" value="#{model.name}" />
						<p:outputLabel for="name" value="#{msg.name}" />
					</div>
				</div>
			</div>
			
			<div class="ui-g-12 ui-md-12">
				<div class="ui-inputgroup">
					<div class="md-inputfield">
						<p:inputText id="description" value="#{model.description}" />
						<p:outputLabel for="description" value="#{msg.description}" />
					</div>
				</div>
			</div>
			
			<div class="ui-g-12 ui-md-12">
				<div class="ui-inputgroup">
					<div class="md-inputfield">
						<p:inputText id="designation" value="#{model.designation}" />
						<p:outputLabel for="designation" value="#{msg.designation}" />
					</div>
				</div>
			</div>

			<div class="ui-g-12 ui-md-6">
				<div class="ui-inputgroup">
					<div class="md-inputfield">
						<p:inputText id="position" value="#{model.position}" />
						<p:outputLabel for="position" value="#{msg.position}" />
					</div>
				</div>
			</div>

		</div>


		<h:outputLabel value="Parent category" />   
	      <p:tree value="#{adminCategoryMB.root}" var="cat" 
	      selection="#{adminCategoryMB.parent}"  selectionMode="single">

			<p:treeNode expandedIcon="ui-icon-folder-open"
				collapsedIcon="ui-icon-folder-collapsed">
				<h:outputText value="#{cat.designation}" />
			</p:treeNode>


		</p:tree>
			   
		

		<div class="ui-g">
			<div class="ui-g-12 ui-g-nopad">

				<h:graphicImage id="img-64" width="64" height="64"
					value="#{controller.image}" />

				<p:fileUpload listener="#{controller.fileUploadEvent}"
					label="image 64x64" update="img-64" uploadLabel="#{msg.validate}"
					cancelLabel="#{msg.cancel}" />
			</div>
		</div>
	</ui:define>
	
	<!--  Formulaire list  -->
	<ui:define name="form-list">
		<p:column headerText="#{msg.designation}" filterBy="#{item.designation}"
		filterMatchMode="contains"
		 filterable="false"
			sortBy="#{item.designation}"  >
			<h:outputText value="#{item.designation}" />
		</p:column>

		<p:column headerText="#{msg.description}" filterBy="#{item.description}"
		filterMatchMode="contains"
		 filterable="false"
			sortBy="#{item.description}">
			<h:outputText value="#{item.description}" />
		</p:column>

		<p:column headerText="#{msg.position}" filterBy="#{item.position}"
		filterMatchMode="contains"
		 filterable="false"
			sortBy="#{item.position}">
			<h:outputText value="#{item.position}" />
		</p:column>      
	</ui:define>

</ui:composition>